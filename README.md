
### Shiny Gallery ###

The Shiny Gallery contains a wide variety of example applications that demonstrate features and techniques useful to Shiny developers. You can access the gallery at [http://shinygallery.com](http://shinygallery). 

This repository contains the source code for the Gallery website. This code as well as the code for the examples in the gallery are published using the [MIT license](http://opensource.org/licenses/MIT) to permit broad re-use in both commercial and open-source contexts.

### Contributing to the Gallery ###

Contributions to the Gallery are welcome and encouraged! You can submit a contribution in one of two ways:
 
- Post to the Gallery [issue tracker](https://github.com/rstudio/shiny-gallery/issues/new). The issue just needs to include a link to where the application is hosted on the web (the RStudio hosting service [ShinyApps](http://www.shinyapps.io/signup.html) is a good choice for this).

- Fork and clone the Gallery repository, import your application (see below for details), then send us a pull request.

In either case, there are a few guidelines that contributions should meet:

1. They should clearly demonstrate one or two concepts or techniques with a minimum of additional scaffolding code.

2. Source code should be formatted at a width of no more than 65 characters (to facilitate side-by-side viewing of code and application).

3. They should include a `DESCRIPTION` file with metadata about the application and a `Readme.md` file with a short (2 or 3 sentence) description of the application. 

Here's an example `DESCRIPTION` file:

```yaml
Version: 1.0
Type: ShinyShowcase
Title: Hello Shiny!
Author: RStudio, Inc.
AuthorUrl: http://www.rstudio.com/
License: MIT
Tags: getting-started
DefaultShowcaseMode: 1
AllowShowcaseModeOverride: TRUE
```

The Gallery takes advantage of a new feature of Shiny called showcase mode which displays applications along with their source code. **IMPORTANT NOTE**: Showcase mode is currently available only on a development branch of Shiny. To install this version of Shiny:

```r
devtools::install("rstudio/shiny", ref = "feature/showcase-mode")
```

Once a `DESCRIPTION` file similar to the above is in place, your app will start in showcase mode by default. You can force it to run normally by appending `?showcase=0` to the URL.


### Importing an Application ###

If you want to submit a contribution as a pull request rather than an issue, you'll need to fork and clone this repository and then import your application using the Gallery import utility. This section provides detailed on instructions on how to do this.

#### Installing Dependencies ####

To run the Shiny Gallery locally you need to be on Linux or Mac OS X. You also need to install some dependencies. These dependencies include several Ruby libraries. To isolate these libraries from others on your system it's strongly recommended that you first install [RVM](https://rvm.io/) (Ruby Version Manager).

Once you've installed RVM you should execute the following from the root directory of the repository: 

```bash
$ _dependencies/install
```

This script installs the Ruby bundles [jekyll](http://jekyllrb.com/) and [gist](http://defunkt.io/gist/), the R [downloader](http://cran.rstudio.com/web/packages/downloader/index.html) and [yaml](http://cran.rstudio.com/web/packages/yaml/index.html) packages, as well as the [phantom.js](http://phantomjs.org/) utility (which is used for capturing thumbnails of Shiny applications).

It's recommended that you run `gist --login` after installing dependencies, so that the import script can automatically create gists for you. 

#### Performing the Import ####

To import an application you run the `import.R` script from within the `_scripts` folder. It takes two parameters: the file path from which the code was deployed, and the full URL to the deployed application. For instance: 

```bash
$ cd _scripts
$ ./import.R ~/r/animated-slider http://gallery.shinyapps.io/animated-slider
```

The import script will examine the application's `DESCRIPTION` file, verify that it has the required entries, and generate a thumbnail of the application using phantom.js. Note that you can also provide your own thumbnail by including a file named `thumbnail.png` in the application's directory (thumbnail dimensions should be approximately 910x660 pixels).

If the code for the app you wish to import is already hosted somewhere and you'd like the gallery to point there instead of creating a gist (described below), supply the URL as a third parameter to `import.R`. This is also necessary if you want to include folders in your code, since gists can't contain folders.

*NOTE*: The import script does not attempt to verify that the deployed application matches the code supplied, and no error will be generated if they don't match. Be sure you're supplying the correct path.

If all goes well then two files will be generated by the import. For example:

```
_posts/2013-12-20-animiated-slider.md
images/thumbnails/animiated-slider.png
```

#### Source Code Gist ####

In addition to adding a link to your application to the Gallery, the import utility will also create a [gist](https://gist.github.com/) containing your application's source code. All `.R` files in the application's directory will be included.

The gist is created using the Ruby gist gem, which by default creates an anonymous gist. If you'd like to link the gist to your own Github account then login to Github [as described here](http://defunkt.io/gist/#Login) before running the import utility.

Note that the import utility cannot update anonymous gists, so if you use anonymous gists, a new one will be created every time you update your application. 

#### Previewing Your Changes ####

After you've imported your application you'll want to run the Gallery locally to preview the changes. To do this you can execute the following from the root directory of the repository:

```bash
$ jekyll serve --watch
```

This will run a local web server that can be accessed at `http://localhost:4000`. Note that the `--watch` parameter is included so that the website is automatically rebuilt when files changes, so if you re-run your import you need only refresh the browser as opposed to stopping and restarting the local web server.

#### Updating Existing Applications ####

Updating existing applications is done in the same way as importing new ones--just run `import.R` and supply the code and deployment path. 

Assuming you haven't changed the title of the application, `import.R` will re-read the DESCRIPTION file and propagate updates to any fields, create or update the gist, update the thumbnail, and regenerate the post `.md` file. 

### License ###

The source code for this website is Copyright (c) 2013-2014 RStudio, Inc. and made available under the MIT license. Individual Gallery applications are owned by their authors and also available under the MIT license.

```
The MIT License (MIT)

Copyright (c) 2013-2014 RStudio, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
```

